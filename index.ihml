<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ß–∞—Ç</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .message-animation {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div class="max-w-4xl mx-auto h-screen flex flex-col">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞ -->
        <div class="bg-white shadow-lg border-b border-gray-200 p-4">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                    <span class="text-white font-semibold text-lg">üí¨</span>
                </div>
                <div>
                    <h1 class="text-xl font-semibold text-gray-800">–û–±—â–∏–π —á–∞—Ç</h1>
                    <p class="text-sm text-gray-500">5 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –æ–Ω–ª–∞–π–Ω</p>
                </div>
            </div>
        </div>

        <!-- –û–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π -->
        <div id="messagesContainer" class="flex-1 overflow-y-auto p-4 space-y-4 bg-white">
            <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div class="flex items-start space-x-3">
                <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white text-sm font-medium">–ê</span>
                </div>
                <div class="flex-1">
                    <div class="flex items-center space-x-2 mb-1">
                        <span class="font-medium text-gray-800">–ê–Ω–Ω–∞</span>
                        <span class="text-xs text-gray-500">14:32</span>
                    </div>
                    <div class="bg-gray-100 rounded-2xl rounded-tl-md px-4 py-2 max-w-md">
                        <p class="text-gray-800">–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º! –ö–∞–∫ –¥–µ–ª–∞? üëã</p>
                    </div>
                </div>
            </div>

            <!-- –ú–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
            <div class="flex items-start space-x-3 justify-end">
                <div class="flex-1 flex flex-col items-end">
                    <div class="flex items-center space-x-2 mb-1">
                        <span class="text-xs text-gray-500">14:33</span>
                        <span class="font-medium text-gray-800">–í—ã</span>
                    </div>
                    <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl rounded-tr-md px-4 py-2 max-w-md">
                        <p class="text-white">–ü—Ä–∏–≤–µ—Ç! –í—Å–µ –æ—Ç–ª–∏—á–Ω–æ, —Ä–∞–±–æ—Ç–∞—é –Ω–∞–¥ –Ω–æ–≤—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º üöÄ</p>
                    </div>
                </div>
                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white text-sm font-medium">–Ø</span>
                </div>
            </div>

            <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div class="flex items-start space-x-3">
                <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white text-sm font-medium">–ú</span>
                </div>
                <div class="flex-1">
                    <div class="flex items-center space-x-2 mb-1">
                        <span class="font-medium text-gray-800">–ú–∞–∫—Å–∏–º</span>
                        <span class="text-xs text-gray-500">14:35</span>
                    </div>
                    <div class="bg-gray-100 rounded-2xl rounded-tl-md px-4 py-2 max-w-md">
                        <p class="text-gray-800">–ö—Ä—É—Ç–æ! –ê —á—Ç–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç? –ú–æ–∂–µ—à—å —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ?</p>
                    </div>
                </div>
            </div>

            <!-- –ï—â–µ –æ–¥–Ω–æ –º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
            <div class="flex items-start space-x-3 justify-end">
                <div class="flex-1 flex flex-col items-end">
                    <div class="flex items-center space-x-2 mb-1">
                        <span class="text-xs text-gray-500">14:36</span>
                        <span class="font-medium text-gray-800">–í—ã</span>
                    </div>
                    <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl rounded-tr-md px-4 py-2 max-w-md">
                        <p class="text-white">–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏. –ò—Å–ø–æ–ª—å–∑—É—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ ‚ö°</p>
                    </div>
                </div>
                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white text-sm font-medium">–Ø</span>
                </div>
            </div>

            <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç —Ç—Ä–µ—Ç—å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div class="flex items-start space-x-3">
                <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white text-sm font-medium">–ï</span>
                </div>
                <div class="flex-1">
                    <div class="flex items-center space-x-2 mb-1">
                        <span class="font-medium text-gray-800">–ï–ª–µ–Ω–∞</span>
                        <span class="text-xs text-gray-500">14:38</span>
                    </div>
                    <div class="bg-gray-100 rounded-2xl rounded-tl-md px-4 py-2 max-w-md">
                        <p class="text-gray-800">–ó–≤—É—á–∏—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –£–¥–∞—á–∏ —Å –ø—Ä–æ–µ–∫—Ç–æ–º! üí™</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è -->
        <div class="bg-white border-t border-gray-200 p-4">
            <!-- –í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div class="mb-3">
                <label class="text-sm font-medium text-gray-700 mb-2 block">–ü–∏—Å–∞—Ç—å –æ—Ç –∏–º–µ–Ω–∏:</label>
                <div class="flex flex-wrap gap-2 mb-2" id="userButtons">
                    <button onclick="selectUser('–í—ã', 'blue')" id="user-–í—ã" class="user-btn active px-3 py-1 rounded-full text-sm font-medium bg-blue-500 text-white">
                        –í—ã
                    </button>
                    <button onclick="selectUser('–ê–Ω–Ω–∞', 'green')" id="user-–ê–Ω–Ω–∞" class="user-btn px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-700 hover:bg-gray-300">
                        –ê–Ω–Ω–∞
                    </button>
                    <button onclick="selectUser('–ú–∞–∫—Å–∏–º', 'purple')" id="user-–ú–∞–∫—Å–∏–º" class="user-btn px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-700 hover:bg-gray-300">
                        –ú–∞–∫—Å–∏–º
                    </button>
                    <button onclick="selectUser('–ï–ª–µ–Ω–∞', 'orange')" id="user-–ï–ª–µ–Ω–∞" class="user-btn px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-700 hover:bg-gray-300">
                        –ï–ª–µ–Ω–∞
                    </button>
                    <button onclick="selectUser('–î–º–∏—Ç—Ä–∏–π', 'red')" id="user-–î–º–∏—Ç—Ä–∏–π" class="user-btn px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-700 hover:bg-gray-300">
                        –î–º–∏—Ç—Ä–∏–π
                    </button>
                </div>
                
                <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <div class="flex items-center space-x-2">
                    <input 
                        type="text" 
                        id="newUserInput"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è..."
                        class="flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        maxlength="20"
                    >
                    <button 
                        onclick="addNewUser()"
                        class="px-4 py-2 bg-green-500 text-white text-sm font-medium rounded-lg hover:bg-green-600 transition-colors"
                    >
                        + –î–æ–±–∞–≤–∏—Ç—å
                    </button>
                </div>
            </div>
            
            <div class="flex items-center space-x-3">
                <div class="flex-1 relative">
                    <input 
                        type="text" 
                        id="messageInput"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
                        class="w-full px-4 py-3 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    >
                    <button 
                        onclick="attachFile()"
                        class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"
                    >
                        üìé
                    </button>
                </div>
                <button 
                    onclick="sendMessage()"
                    class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-full hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105"
                >
                    –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentUser = '–í—ã';
        let currentUserColor = 'blue';
        
        const userColors = {
            '–í—ã': 'blue',
            '–ê–Ω–Ω–∞': 'green', 
            '–ú–∞–∫—Å–∏–º': 'purple',
            '–ï–ª–µ–Ω–∞': 'orange',
            '–î–º–∏—Ç—Ä–∏–π': 'red'
        };
        
        const userInitials = {
            '–í—ã': '–Ø',
            '–ê–Ω–Ω–∞': '–ê',
            '–ú–∞–∫—Å–∏–º': '–ú', 
            '–ï–ª–µ–Ω–∞': '–ï',
            '–î–º–∏—Ç—Ä–∏–π': '–î'
        };
        
        const availableColors = ['indigo', 'pink', 'yellow', 'teal', 'cyan', 'lime', 'amber', 'emerald', 'violet', 'rose'];
        let colorIndex = 0;
        
        function selectUser(userName, color) {
            currentUser = userName;
            currentUserColor = color;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.user-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.className = 'user-btn px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-700 hover:bg-gray-300';
            });
            
            const selectedBtn = document.getElementById(`user-${userName}`);
            selectedBtn.classList.remove('bg-gray-200', 'text-gray-700', 'hover:bg-gray-300');
            selectedBtn.classList.add('active', `bg-${color}-500`, 'text-white');
        }
        
        function addNewUser() {
            const input = document.getElementById('newUserInput');
            const userName = input.value.trim();
            
            if (userName === '') {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
                return;
            }
            
            if (userColors[userName]) {
                alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
                return;
            }
            
            // –í—ã–±–∏—Ä–∞–µ–º —Ü–≤–µ—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const newColor = availableColors[colorIndex % availableColors.length];
            colorIndex++;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –æ–±—ä–µ–∫—Ç—ã
            userColors[userName] = newColor;
            userInitials[userName] = userName.charAt(0).toUpperCase();
            
            // –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userButtonsContainer = document.getElementById('userButtons');
            const newButton = document.createElement('button');
            newButton.onclick = () => selectUser(userName, newColor);
            newButton.id = `user-${userName}`;
            newButton.className = 'user-btn px-3 py-1 rounded-full text-sm font-medium bg-gray-200 text-gray-700 hover:bg-gray-300';
            newButton.textContent = userName;
            
            userButtonsContainer.appendChild(newButton);
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
            input.value = '';
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            selectUser(userName, newColor);
        }
        
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message === '') return;
            
            const messagesContainer = document.getElementById('messagesContainer');
            const currentTime = new Date().toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
            
            const isCurrentUser = currentUser === '–í—ã';
            const colorClass = userColors[currentUser];
            const initial = userInitials[currentUser];
            
            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            const messageDiv = document.createElement('div');
            
            if (isCurrentUser) {
                // –°–æ–æ–±—â–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∞ (–æ—Ç "–í—ã")
                messageDiv.className = 'flex items-start space-x-3 justify-end message-animation';
                messageDiv.innerHTML = `
                    <div class="flex-1 flex flex-col items-end">
                        <div class="flex items-center space-x-2 mb-1">
                            <span class="text-xs text-gray-500">${currentTime}</span>
                            <span class="font-medium text-gray-800">${currentUser}</span>
                        </div>
                        <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl rounded-tr-md px-4 py-2 max-w-md">
                            <p class="text-white">${message}</p>
                        </div>
                    </div>
                    <div class="w-8 h-8 bg-${colorClass}-500 rounded-full flex items-center justify-center flex-shrink-0">
                        <span class="text-white text-sm font-medium">${initial}</span>
                    </div>
                `;
            } else {
                // –°–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–µ–≤–∞ (–æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
                messageDiv.className = 'flex items-start space-x-3 message-animation';
                messageDiv.innerHTML = `
                    <div class="w-8 h-8 bg-${colorClass}-500 rounded-full flex items-center justify-center flex-shrink-0">
                        <span class="text-white text-sm font-medium">${initial}</span>
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center space-x-2 mb-1">
                            <span class="font-medium text-gray-800">${currentUser}</span>
                            <span class="text-xs text-gray-500">${currentTime}</span>
                        </div>
                        <div class="bg-gray-100 rounded-2xl rounded-tl-md px-4 py-2 max-w-md">
                            <p class="text-gray-800">${message}</p>
                        </div>
                    </div>
                `;
            }
            
            messagesContainer.appendChild(messageDiv);
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
            input.value = '';
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        function attachFile() {
            alert('–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏!');
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ Enter
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ Enter
        document.getElementById('newUserInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addNewUser();
            }
        });
        
        // –ê–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            const messagesContainer = document.getElementById('messagesContainer');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97b90f6781ef9243',t:'MTc1NzI3ODAzNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

